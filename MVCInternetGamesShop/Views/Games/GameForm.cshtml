@model MVCInternetGamesShop.ViewModels.GameFormViewModel

@{
    ViewBag.Title = "GameForm";
}

<h2>GameForm</h2>

@using (Html.BeginForm("Save", "Games"))
{
    @Html.ValidationSummary("", new { @class = "text-danger" })
    <div class="form-group">
        @Html.LabelFor(m => m.Name)
        @Html.TextBoxFor(m => m.Name,  new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Price)
        @Html.TextBoxFor(m => m.Price, new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.ImageName)
        @Html.TextBoxFor(m => m.ImageName, new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.PlatformId)
        <label>Aktualnie: @Model.PlatformName</label>
        @Html.DropDownListFor(m => m.PlatformId, new SelectList(Model.Platforms, "Id", "Name"), "--Wybierz Platformę --",  new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.IsBestseller)
        @Html.CheckBoxFor(m => m.IsBestseller)
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.ReleaseDate)
        @Html.TextBoxFor(m => m.ReleaseDate, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.ReleaseDate)
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.CurrentCategoriesNames)
        @Html.TextBoxFor(m => m.CurrentCategoriesNames, new { @readonly = true, @class = "form-control" })
    </div>

   

    @Html.HiddenFor(m => m.Id)
    <button type="submit">Save</button>
    if (Model.Id != 0)
    {
    <div class="form-group">
        <label class="hide" for="CurrentCategories">Przypisane Kategorie</label>
        <select class="hide" id="test" multiple="multiple" name="SelectedIds">
            <option value=""></option>
            @foreach (var category in Model.Category)
            {
            <option id="option-@category.Id" value="@category.Id">@category.Name</option>
            }
        </select>
    </div>
        }

    }
<div class="hidden" id="game-id-for-js" data-id="@Model.Id"></div>

@section scripts {@Scripts.Render("~/bundles/EditCategoryScripts")}





